(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))p(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&p(d)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function p(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();window.addEventListener("load",()=>{const E=typeof gsap<"u"&&typeof ScrollTrigger<"u",l=typeof Lenis<"u";if(!E){console.error("CRITICAL: GSAP или ScrollTrigger не подключены!");return}gsap.registerPlugin(ScrollTrigger),typeof lucide<"u"&&lucide.createIcons();let n;if(l){let t=function(r){n.raf(r),requestAnimationFrame(t)};var T=t;n=new Lenis({duration:1.2,easing:r=>Math.min(1,1.001-Math.pow(2,-10*r)),direction:"vertical",smooth:!0}),n.on("scroll",ScrollTrigger.update),requestAnimationFrame(t),gsap.ticker.add(r=>{n.raf(r*1e3)}),gsap.ticker.lagSmoothing(0)}const p=gsap.timeline({defaults:{ease:"power3.out"}});document.querySelector(".hero__title")&&p.from(".hero__badge",{y:-20,opacity:0,duration:.8}).from(".hero__title",{y:50,opacity:0,duration:1},"-=0.4").from(".hero__desc",{y:30,opacity:0,duration:.8},"-=0.6").from(".hero__actions .btn",{y:20,opacity:0,duration:.6,stagger:.2},"-=0.6").from(".hero__visual",{scale:.8,opacity:0,duration:1.2,ease:"back.out(1.7)"},"-=1"),ScrollTrigger.batch(".section__title",{onEnter:t=>gsap.to(t,{opacity:1,y:0,duration:.8,stagger:.15,overwrite:!0}),start:"top 85%"}),gsap.set(".section__title",{opacity:0,y:50});const e=document.querySelectorAll(".benefit-card");e.length>0&&(gsap.set(e,{opacity:0,y:60}),ScrollTrigger.batch(e,{start:"top 85%",onEnter:t=>gsap.to(t,{opacity:1,y:0,duration:.8,stagger:.2,ease:"power3.out",overwrite:!0})}));const o=document.querySelectorAll(".blog-card");o.length>0&&(gsap.set(o,{opacity:0,y:60}),ScrollTrigger.batch(o,{start:"top 85%",onEnter:t=>gsap.to(t,{opacity:1,y:0,duration:.8,stagger:.2,ease:"power3.out"})}));const d=document.querySelector(".cases"),g=document.querySelector(".cases__track");d&&g&&gsap.matchMedia().add("(min-width: 992px)",()=>{const r=g.scrollWidth-window.innerWidth;gsap.to(g,{x:-r,ease:"none",scrollTrigger:{trigger:".cases",pin:!0,scrub:1,start:"top top",end:()=>`+=${g.scrollWidth}`,invalidateOnRefresh:!0}})});const x=document.getElementById("year");x&&(x.textContent=new Date().getFullYear());const u=document.querySelector(".header__burger"),S=document.querySelector(".header__nav"),q=document.querySelectorAll(".header__link"),y=u==null?void 0:u.querySelector("i");u&&S&&(u.addEventListener("click",()=>{const t=S.classList.toggle("active");document.body.style.overflow=t?"hidden":"",y&&(y.setAttribute("data-lucide",t?"x":"menu"),lucide.createIcons())}),q.forEach(t=>{t.addEventListener("click",()=>{S.classList.remove("active"),document.body.style.overflow="",y&&(y.setAttribute("data-lucide","menu"),lucide.createIcons())})}));const h=document.getElementById("cookiePopup"),I=document.getElementById("acceptCookies");h&&!localStorage.getItem("zyntra_cookies_accepted")&&setTimeout(()=>h.classList.add("show"),2e3),I&&I.addEventListener("click",()=>{localStorage.setItem("zyntra_cookies_accepted","true"),h&&h.classList.remove("show")});const s=document.getElementById("contactForm"),f=document.getElementById("formMessage"),L=document.getElementById("consent"),c=document.getElementById("captchaQuestion"),v=document.getElementById("captchaAnswer");let a=Math.floor(Math.random()*10),i=Math.floor(Math.random()*10);c&&(c.textContent=`${a} + ${i} = ?`),s&&s.addEventListener("submit",t=>{t.preventDefault();let r=!0;document.querySelectorAll(".form-group").forEach(m=>m.classList.remove("error"));const _=s.querySelector('input[name="phone"]');_&&!/^\d+$/.test(_.value)&&(_.closest(".form-group").classList.add("error"),r=!1),v&&parseInt(v.value)!==a+i&&(v.closest(".form-group").classList.add("error"),r=!1,a=Math.floor(Math.random()*10),i=Math.floor(Math.random()*10),c&&(c.textContent=`${a} + ${i} = ?`),v.value="");const b=s.querySelector('input[name="name"]');if(b&&!b.value.trim()&&(b.closest(".form-group").classList.add("error"),r=!1),L&&!L.checked&&(L.closest(".checkbox-group").classList.add("error"),r=!1),r){const m=s.querySelector('button[type="submit"]'),w=m.querySelector(".btn-text"),M=w.textContent;w.textContent="Отправка...",m.style.opacity="0.7",setTimeout(()=>{s.reset(),a=Math.floor(Math.random()*10),i=Math.floor(Math.random()*10),c&&(c.textContent=`${a} + ${i} = ?`),w.textContent=M,m.style.opacity="1",f&&(f.textContent="Успешно!",f.classList.add("success"),setTimeout(()=>{f.textContent="",f.classList.remove("success")},4e3))},1e3)}}),ScrollTrigger.refresh()});
//# sourceMappingURL=main-CCN2DcuF.js.map
