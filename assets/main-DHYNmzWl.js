(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))m(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&m(d)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function m(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}})();window.addEventListener("load",()=>{console.log("Page Loaded. Initializing Zyntra Core...");const b=typeof gsap<"u"&&typeof ScrollTrigger<"u",a=typeof Lenis<"u";if(!b){console.error("CRITICAL: GSAP или ScrollTrigger не подключены!");return}gsap.registerPlugin(ScrollTrigger),typeof lucide<"u"&&lucide.createIcons();let l;a&&(l=new Lenis({duration:1.2,easing:t=>Math.min(1,1.001-Math.pow(2,-10*t)),direction:"vertical",smooth:!0}),l.on("scroll",ScrollTrigger.update),gsap.ticker.add(t=>{l.raf(t*1e3)}),gsap.ticker.lagSmoothing(0),console.log("Lenis Smooth Scroll: Active"));const m=gsap.timeline({defaults:{ease:"power3.out"}});document.querySelector(".hero__title")&&m.from(".hero__badge",{y:-20,opacity:0,duration:.8}).from(".hero__title",{y:50,opacity:0,duration:1},"-=0.4").from(".hero__desc",{y:30,opacity:0,duration:.8},"-=0.6").from(".hero__actions .btn",{y:20,opacity:0,duration:.6,stagger:.2},"-=0.6").from(".hero__visual",{scale:.8,opacity:0,duration:1.2,ease:"back.out(1.7)"},"-=1"),ScrollTrigger.batch(".section__title",{onEnter:t=>gsap.to(t,{opacity:1,y:0,duration:.8,stagger:.15,overwrite:!0}),start:"top 85%"}),gsap.set(".section__title",{opacity:0,y:50});const e=document.querySelectorAll(".benefit-card");e.length>0&&(gsap.set(e,{opacity:0,y:60}),ScrollTrigger.batch(e,{start:"top 85%",onEnter:t=>gsap.to(t,{opacity:1,y:0,duration:.8,stagger:.2,ease:"power3.out",overwrite:!0})}));const o=document.querySelectorAll(".blog-card");o.length>0&&(gsap.set(o,{opacity:0,y:60}),ScrollTrigger.batch(o,{start:"top 85%",onEnter:t=>gsap.to(t,{opacity:1,y:0,duration:.8,stagger:.2,ease:"power3.out"})}));const d=document.querySelector(".cases"),p=document.querySelector(".cases__track");d&&p&&gsap.matchMedia().add("(min-width: 992px)",()=>{const i=p.scrollWidth-window.innerWidth;gsap.to(p,{x:-i,ease:"none",scrollTrigger:{trigger:".cases",pin:!0,scrub:1,start:"top top",end:()=>`+=${p.scrollWidth}`,invalidateOnRefresh:!0}})});const w=document.getElementById("year");w&&(w.textContent=new Date().getFullYear());const u=document.querySelector(".header__burger"),v=document.querySelector(".header__nav"),E=document.querySelectorAll(".header__link"),y=u==null?void 0:u.querySelector("i");u&&v&&(u.addEventListener("click",()=>{const t=v.classList.toggle("active");document.body.style.overflow=t?"hidden":"",y&&(y.setAttribute("data-lucide",t?"x":"menu"),lucide.createIcons())}),E.forEach(t=>{t.addEventListener("click",()=>{v.classList.remove("active"),document.body.style.overflow="",y&&(y.setAttribute("data-lucide","menu"),lucide.createIcons())})}));const h=document.getElementById("cookiePopup"),T=document.getElementById("acceptCookies");h&&!localStorage.getItem("zyntra_cookies_accepted")&&setTimeout(()=>h.classList.add("show"),2e3),T&&T.addEventListener("click",()=>{localStorage.setItem("zyntra_cookies_accepted","true"),h&&h.classList.remove("show")});const n=document.getElementById("contactForm"),f=document.getElementById("formMessage"),g=document.getElementById("captchaQuestion"),S=document.getElementById("captchaAnswer");let s=Math.floor(Math.random()*10),c=Math.floor(Math.random()*10);g&&(g.textContent=`${s} + ${c} = ?`),n&&n.addEventListener("submit",t=>{t.preventDefault();let i=!0;document.querySelectorAll(".form-group").forEach(r=>r.classList.remove("error"));const L=n.querySelector('input[name="phone"]');L&&!/^\d+$/.test(L.value)&&(L.closest(".form-group").classList.add("error"),i=!1),S&&parseInt(S.value)!==s+c&&(S.closest(".form-group").classList.add("error"),i=!1,s=Math.floor(Math.random()*10),c=Math.floor(Math.random()*10),g.textContent=`${s} + ${c} = ?`,S.value="");const _=n.querySelector('input[name="name"]');if(_&&!_.value.trim()&&(_.closest(".form-group").classList.add("error"),i=!1),i){const r=n.querySelector("button"),I=r.innerText;r.innerText="Отправка...",r.style.opacity="0.7",setTimeout(()=>{n.reset(),s=Math.floor(Math.random()*10),c=Math.floor(Math.random()*10),g&&(g.textContent=`${s} + ${c} = ?`),r.innerText=I,r.style.opacity="1",f&&(f.textContent="Успешно!",f.classList.add("success"),setTimeout(()=>{f.textContent="",f.classList.remove("success")},4e3))},1e3)}}),ScrollTrigger.refresh(),console.log("GSAP Triggers Refreshed")});
//# sourceMappingURL=main-DHYNmzWl.js.map
